# -*- coding: utf-8 -*-
"""Untitled4.ipynb

Automatically generated by Colaboratory.

Original file is located at
    https://colab.research.google.com/drive/1DVCQdhzcNK-I_vggwN2ygM8GAMI8PGpt
"""

#library
import numpy as np
import joblib
from sklearn.linear_model import LinearRegression

#dataset 
X= np.array([2015,2015,2012,2018,2006,2011,2015,2019,2018,2010,2021,2019,2018,2019,2014,2014,2017,2019,2014,2019,2013,2014,2011,2014,2013,2014,2006,2017,2015,2021,2018,2016,2017,2018,2018,2018,2012,2015,2012,2011]).reshape((-1, 1))
Y= np.array([185000000,166000000,136000000,298000000,79900000,130000000,185000000,273000000,329000000,173000000,310000000,370000000,340000000,359000000,217000000,220000000,235000000,359000000,170000000,370000000,205000000,165000000,165000000,160000000,165000000,208000000,77500000,369000000,185000000,376200000,280000000,230000000,300000000,320000000,290000000,230000000,140000000,189000000,149000000,175000000])

#call model regression
model = LinearRegression().fit(X,Y)

#save model
filename = 'model.sav'
joblib.dump(model, filename)

#load model
loaded_model = joblib.load(filename)

#prediction model
loaded_model.predict([[20]])